<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Selamat Hari Jadi Aiwa Jailin! ðŸŽ‰</title>
<style>
body {
  margin:0; padding:0;
  background: linear-gradient(to bottom, #a8dadc, #caf0f8);
  font-family:'Comic Sans MS', cursive, sans-serif;
  overflow:hidden;
  cursor:pointer;
  color:#1d3557;
}
#startOverlay {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.3);
  color:#fff;
  display:flex; justify-content:center; align-items:center;
  font-size:2em; z-index:1000; text-align:center;
}
#message {
  position:fixed; top:10%; width:100%; text-align:center; font-size:2em;
  text-shadow: 1px 1px 5px #fff;
  pointer-events:none;
}
#lyrics {
  position:fixed; top:60%; width:100%; text-align:center; font-size:1.5em;
  text-shadow:1px 1px 2px #fff;
  pointer-events:none;
}
canvas { position:fixed; top:0; left:0; pointer-events:none; z-index:999; }
.balloon, .cake {
  position:absolute; bottom:-100px; width:60px; height:80px;
  border-radius:50%; animation:float 10s ease-in-out infinite;
}
.cake {
  width:50px; height:50px; border-radius:10px; background:#ffb6b9;
  text-align:center; line-height:50px; color:#fff; font-weight:bold;
  font-size:1.2em;
}
@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-200px); }
  100% { transform: translateY(0); }
}
</style>
</head>
<body>

<div id="startOverlay">Klik mana-mana untuk mula ðŸŽµ</div>
<div id="message"></div>
<div id="lyrics"></div>
<audio id="bgMusic" src="CanICallYouTonight.mp3"></audio>
<canvas id="particleCanvas"></canvas>

<script>
// ===== Birthday Message =====
const birthdayMessage = `Selamat Hari Jadi Aiwa Jailin! ðŸŽ‰ðŸ’™
Semoga hubungan kita makin erat, ke arah yang lebih baik, till Jannah.
Semoga Allah sentiasa merahmati kamu.`;

function typeMessage(element, text, delay=50){
  let i=0;
  const interval = setInterval(()=>{
    element.textContent += text[i];
    i++;
    if(i>=text.length) clearInterval(interval);
  }, delay);
}

// ===== Lyrics with timing (starts 48s) =====
const lyrics = [
  {time:0, text:"I feel close"},
  {time:3, text:"Well, maybe I'm not, heaven knows"},
  {time:7, text:"It's a spotlight stuck on the ceiling"},
  {time:12, text:"Why are these the things that I'm feeling?"},
  {time:16, text:"There's so much time"},
  {time:19, text:"For me to speak up, but I keep quiet"},
  {time:23, text:"I'll complicate the most of the mantra"},
  {time:28, text:"The power is out and I can't turn the fan on"},
  {time:33, text:"So can I call you tonight?"},
  {time:37, text:"I'm trying to make up my mind"},
  {time:41, text:"Just how I feel"},
  {time:44, text:"Could you tell me what's real?"}
];

// ===== Particles & Sparkle =====
const canvas = document.getElementById("particleCanvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
const particles = [];
function createParticle(x,y){
  particles.push({x,y,dx:(Math.random()-0.5)*2,dy:(Math.random()-1)*2,r:Math.random()*3+2,life:100});
}
function animateParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=particles.length-1;i>=0;i--){
    const p = particles[i];
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle = `rgba(255,182,193,${p.life/100})`; // pink sparkle
    ctx.fill();
    p.x += p.dx; p.y += p.dy; p.life--;
    if(p.life<=0) particles.splice(i,1);
  }
  requestAnimationFrame(animateParticles);
}
animateParticles();
window.addEventListener("mousemove", e=>{ for(let i=0;i<3;i++) createParticle(e.clientX,e.clientY); });

// ===== Balloons & Cakes =====
function createBalloon(){
  const balloon = document.createElement("div");
  balloon.classList.add("balloon");
  balloon.style.backgroundColor = `hsl(${Math.random()*360},70%,70%)`;
  balloon.style.left = `${Math.random()*window.innerWidth}px`;
  balloon.style.animationDuration = `${7+Math.random()*5}s`;
  document.body.appendChild(balloon);
  setTimeout(()=>balloon.remove(),12000);
}
function createCake(){
  const cake = document.createElement("div");
  cake.classList.add("cake");
  cake.style.left = `${Math.random()*window.innerWidth}px`;
  cake.textContent = "ðŸŽ‚";
  cake.style.animationDuration = `${7+Math.random()*5}s`;
  document.body.appendChild(cake);
  setTimeout(()=>cake.remove(),12000);
}
setInterval(()=>{createBalloon(); createCake();},800);

// ===== Start Music and messages =====
const startOverlay = document.getElementById("startOverlay");
const bgMusic = document.getElementById("bgMusic");
const messageEl = document.getElementById("message");
const lyricsEl = document.getElementById("lyrics");

startOverlay.addEventListener("click", ()=>{
  startOverlay.style.display = "none";
  bgMusic.play();
  typeMessage(messageEl, birthdayMessage, 60);
  
  let lyricIndex=0;
  function showLyrics(){
    if(lyricIndex>=lyrics.length) return;
    lyricsEl.textContent = lyrics[lyricIndex].text;
    lyricIndex++;
    setTimeout(showLyrics, (lyrics[lyricIndex]? (lyrics[lyricIndex].time - lyrics[lyricIndex-1].time)*1000 : 3000));
  }
  setTimeout(showLyrics, 48000); // start at 48s
});
</script>

</body>
</html>
